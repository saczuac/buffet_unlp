{% extends 'layout.twig' %}

{% block contenido %}	

<div class="container">
	<div class="col col-6 listado formulario">
		<div class="container">
			<a href="/horas"><i class="fa fa-chevron-left icon"></i>Atras</a>
			<h2 class="title">
				Agregar horas
			</h2>
			<form id="alumnos_new" action="/horas/new" method="POST" onsubmit="validate()">
				<script type="text/javascript">
	function validate() {
	  post('/contact/', {name: 'Johnny Bravo'});
	}

	</script>
	<div class="input-group">
		<label for="cliente">Cliente</label>
		<select name="cliente" id="mySelect" onchange="myFunction()">
			{% if ((selected == null)) %}
			<option value="aa" selected >elija un cliente</option>
			{% endif %}	
		{% for cliente in clientes %}
			{% if ((cliente.id == selected)) %}
			<option value="{{ cliente.id }}" selected >{{ cliente.nombreCliente }}</option>
			{% else %}			
				
			<option value="{{ cliente.id }}">{{ cliente.nombreCliente }}</option>
			{% endif %}
		{% endfor %}
	</select>
		<br />
	</div>
	<script>
		function myFunction() {
		    var x = document.getElementById("mySelect").value;
		    window.location.href ="/horas/new/" + x;
		}
	</script>
	<div class="input-group">
		<label for="proyecto">Proyectos</label>
		<select name="proyecto" id="proyecto" onchange="myFunction2()">
			{% if ((selectedp == null)) %}
			<option value="aa" selected >elija un proyecto</option>
			{% endif %}	
			{% for proyecto in proyectos %}
				{% if ((proyecto.id == selectedp)) %}
				<option value="{{ proyecto.id }}" selected>{{ proyecto.nombreProyecto }}</option>
				{% else %}			
				<option value="{{ proyecto.id }}">{{ proyecto.nombreProyecto }}</option>
				{% endif %}

			{% endfor %}
			</select>
		<br />
	</div>

	<script>
		function myFunction2() {
		    var x = document.getElementById("mySelect").value;
		    var y = document.getElementById("proyecto").value;
		    window.location.href ="/horas/new/" + x +"/" + y;
		}
	</script>


	<div class="input-group">
		<label for="item">item</label>
		<select name="item" id="item" onchange="myFunction3()">
			{% if ((selectedit == null)) %}
			<option value="aa" selected >elija un Item</option>
			{% endif %}	
			{% for item in items %}
				{% if ((item.id == selectedit)) %}
				<option value="{{ item.id }}" selected>{{ item.nombreItem }}</option>
				{% else %}			
				<option value="{{ item.id }}">{{ item.nombreItem }}</option>
				{% endif %}
			{% endfor %}
			</select>
		<br />
	</div>

	<script>
		function myFunction3() {
		    var x = document.getElementById("mySelect").value;
		    var y = document.getElementById("proyecto").value;
		    var w = document.getElementById("item").value;
		    window.location.href ="/horas/new/" + x +"/" + y +"/" + w;
		}
	</script>


	<div class="input-group">
		<label for="tarea">Tarea</label>
		<select name="tarea">
			{% for tarea in tareas %}
			<option value="{{ tarea.id }}">{{ tarea.nombreTarea }}</option>
			{% endfor %}
			</select>
		<br />
	</div>

	<div class="input-group">
		<label for="fecha">Fecha</label>
		<input type="datepicker" name="fecha">
		<br />
	</div>

	<div class="input-group">
		<label for="numero_documento">Horas</label>
		<input type="number" class="field" name="horas" min="0.5" max="10" step="0.5" required>
		<br />
	</div>
		<div class="input-group" >
			<label for="descripcion">Descripcion de la tarea</label>
			<textarea name="descripciontarea" id="desctare" cols="40" rows="5" maxlength="255" onkeyup="actualizar()" required>Tarea creada por defecto al cargar horas</textarea>
			<br/>
		</div>

		<span class="btn btn-primary">
			<i class="fa fa-check"></i>
		<input type="submit" value="Agregar horas"/>
	</span>

</div>

</div>
</div>

{% endblock %}