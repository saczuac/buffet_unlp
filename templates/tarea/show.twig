{% extends "layout.twig" %}

{% block contenido %}

<div class="container">
	<div class="col col-6 card">
		<h2 class="title">
			<span class="icon">
				<i class="fa fa-user"></i>
			</span>
			{{ tarea.cliente.nombreCliente }}->{{ tarea.proyecto.nombreProyecto }}->{{tarea.item.nombreItem}}

		</h2>
		<!--<pre class="debug">{{ dump(alumno) }}</pre>-->
				<div class="student-data">
			<p>
				<span class="field">Tarea: </span>
				{{ tarea.nombreTarea }}
			</p>
			

		</div>
		<div class="student-data">
			<p>
				<span class="field">direccion: </span>
				{{ tarea.direccion }}
			</p>
			

		</div>
			<div class="student-data">
			<p>
				<span class="field">Horas estimadas: </span>
				{{ tarea.horasEstimadas }}
			</p>
			

		</div>
				<div class="student-data">
			<p>
				<span class="field">Descripcion: </span>
				{{ tarea.descripcion }}
			</p>
			

		</div>

		<input type="button" class="btn" onclick="visible()" value="cargar horas">

	</div>
	<script type="text/javascript">
	function visible() {
	  document.getElementById("horas").style.visibility = "visible";
	}	

	</script>
	<div class="col col-6 card">
		<h2 class="title">
			<span class="icon">
				<i class="fa fa-group"></i>
			</span>
			Usuarios relacionados
		</h2>
		{% include 'usuarios/_index2.twig' with {'usuarios' : tarea.usuarios} %}
				<h2 class="title">

		<a href="asignar/{{ tarea.id }}" class="btn btn-primary">
		<i class="fa fa-plus-circle"></i>Agregar
	</a>


</div>
 <div class="col col-6 card" id="horas" style="visibility:hidden">
 			<form id="horas_cargar" action="/horas/new" method="POST">
				<div class="input-group">
					<label for="fecha">Fecha</label>
					<input type="datepicker" name="fecha">
					<br />
				</div>
 				<div class="input-group">
					<label for="horas">Cantidad de horas</label>
					<input type="number" class="field" name="horas" min="0.5" max="12" step="0.5" required>
					<br />
				</div>
 				<div class="input-group">
					<label for="descripcion">Descripcion de horas</label>
					<textarea name="descripcion" cols="40" rows="3"  maxlength="100" required></textarea>
					<br />
				</div>
				<textarea name="cliente" cols="40" rows="3"  maxlength="100" style="visibility:hidden" required>{{tarea.cliente.id}}</textarea>
				<textarea name="proyecto" cols="40" rows="3"  maxlength="100" style="visibility:hidden" required>{{tarea.proyecto.id}}</textarea>
				<textarea name="item" cols="40" rows="3"  maxlength="100" style="visibility:hidden" required>{{tarea.item.id}}</textarea>
				<textarea name="tarea" cols="40" rows="3"  maxlength="100" style="visibility:hidden" required>{{tarea.id}}</textarea>
					<span class="btn btn-primary">
		<i class="fa fa-check"></i>
		<input type="submit" value="Cargar horas"/>
	</span>
		</div>

 				<div class="col col-6 card" id="usuarios" style="visibility:hidden">
		<h2 class="title">
			<span class="icon">
				<i class="fa fa-group"></i>
			</span>
			Todos los usuarios
		</h2>
		<table>

		<thead class="table-header">
		<tr>
			<th>Nombre</th>
			<th>Agregar</th>
		</tr>
	</thead>
	<tbody>
		{% for user in users %}
			<tr class="table-data-row">
				<td>
						<a href="/tarea/show/{{ user.id }}">{{ user.username }}</a>
				</td>
				<td>
				<i class="fa fa-angle-right"></i>
				</td>
			</tr>
		{% endfor %}
			</tbody>
	</table>
</div>
		</div>

{% endblock %}